/* layout.css - Layout Responsivo Moderno
 * Vers√£o 3.0 - Sistema de layout otimizado para tema claro
 * Responsividade aprimorada com breakpoints fluidos e design adaptativo
 */

/* ==========================================================================\
   Layout Estrutural Principal
   ========================================================================== */

/*
 * NOTA: Estilos base para body, html, e resets N√ÉO devem estar aqui.
 * Eles devem ser definidos em arquivos como reset.css ou base.css.
 * Certifique-se de que as vari√°veis CSS globais (cores, espa√ßamento, tipografia, breakpoints)
 * est√£o definidas em variables.css e importadas ANTES deste arquivo em main.css.
 */

/* Definir vari√°veis de layout cr√≠ticas se n√£o estiverem j√° em variables.css */
/* √â ALTAMENTE recomendado definir estas vari√°veis em variables.css e import√°-lo primeiro */
/* Exemplo (se n√£o estiverem em variables.css):
:root {
    --layout-navbar-height: 60px; // Altura da navbar fixa
    --layout-sidebar-width-expanded: 250px; // Largura da sidebar quando expandida
    --layout-sidebar-width-collapsed: 60px; // Largura da sidebar quando colapsada (apenas √≠cone + padding)
    --z-index-navbar: 1000; // Z-index para a navbar (acima de tudo)
    --z-index-sidebar: 999; // Z-index para a sidebar (abaixo da navbar)
    --z-index-backdrop: 990; // Z-index para o scrim/overlay (abaixo da sidebar)
    --logo-size: 32px; /* Vari√°vel para o tamanho do logo */
    /* Vari√°veis de breakpoint devem vir de variables.css */
    /* --breakpoint-md: 768px; // Exemplo */
/* } */


/* ========================================\
   üì± LAYOUT RESPONSIVO MODERNO
   ======================================== */

/* Navbar responsiva */
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: var(--layout-navbar-height);
    z-index: var(--z-navbar);
    transition: var(--transition-standard);
}

/* Container responsivo com max-width fluido */
.container-fluid {
    max-width: 100%;
    padding-left: 1rem;
    padding-right: 1rem;
    margin: 0 auto;
}

@media (min-width: 576px) {
    .container-fluid {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
}

@media (min-width: 768px) {
    .container-fluid {
        padding-left: 2rem;
        padding-right: 2rem;
    }
}

@media (min-width: 1024px) {
    .container-fluid {
        max-width: 1200px;
        padding-left: 2.5rem;
        padding-right: 2.5rem;
    }
}

@media (min-width: 1440px) {
    .container-fluid {
        max-width: 1400px;
        padding-left: 3rem;
        padding-right: 3rem;
    }
}

/* REMOVIDO: Ajuste da posi√ß√£o da navbar quando a sidebar est√° expandida/colapsada */
/* A navbar agora √© sempre full width, ent√£o estas regras s√£o desnecess√°rias */
/*
body.sidebar-expanded .navbar {
  left: var(--layout-sidebar-width-expanded);
  width: calc(100% - var(--layout-sidebar-width-expanded));
}
body.sidebar-collapsed .navbar {
  left: var(--layout-sidebar-width-collapsed);
  width: calc(100% - var(--layout-sidebar-width-collapsed));
}
*/


/* ========================================\
   üèóÔ∏è SISTEMA DE GRID RESPONSIVO
   ======================================== */

/* Container principal adaptativo */
.main-content-area-wrapper {
    margin-top: var(--layout-navbar-height);
    min-height: calc(100vh - var(--layout-navbar-height));
    display: grid;
    grid-template-columns: auto 1fr;
    grid-template-areas: "sidebar content";
    transition: var(--transition-standard);
}

/* Layout m√≥vel */
@media (max-width: 768px) {
    .main-content-area-wrapper {
        grid-template-columns: 1fr;
        grid-template-areas: "content";
    }
    
    .sidebar {
        position: fixed;
        top: var(--layout-navbar-height);
        left: -100%;
        width: 280px;
        height: calc(100vh - var(--layout-navbar-height));
        z-index: var(--z-sidebar);
        transition: var(--transition-standard);
    }
    
    .sidebar.open {
        left: 0;
    }
}

/* Grid responsivo moderno */
.grid-responsive {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

@media (min-width: 768px) {
    .grid-responsive {
        gap: 2rem;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }
}

@media (min-width: 1024px) {
    .grid-responsive {
        gap: 2.5rem;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    }
}

@media (max-width: 640px) {
    .grid-responsive {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
}

/* Grid para 2 colunas */
.grid-2-cols {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: 1fr;
}

@media (min-width: 768px) {
    .grid-2-cols {
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
    }
}

/* Grid para 3 colunas */
.grid-3-cols {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: 1fr;
}

@media (min-width: 768px) {
    .grid-3-cols {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .grid-3-cols {
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
    }
}

/* Flexbox utilit√°rios responsivos */
.flex-responsive {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
}

@media (min-width: 768px) {
    .flex-responsive {
        gap: 1.5rem;
    }
}

@media (max-width: 767px) {
    .flex-responsive {
        flex-direction: column;
    }
}


/* Estilo para a sidebar */
/* A sidebar agora √© definida principalmente em sidebar.css */
/* Mantemos apenas as regras de layout essenciais aqui */

/* Estilo para o scrim que cobre o conte√∫do quando a sidebar mobile est√° aberta */
/* Gerenciado com JS, este scrim ajuda a focar na sidebar e impede intera√ß√£o com o conte√∫do por baixo */
.sidebar-scrim {
  position: fixed;
  inset: 0;
  background: var(--glass-bg-strong);
  z-index: var(--z-index-backdrop);
  opacity: 0;
  visibility: hidden;
  transition: var(--transition-soft-normal);
  backdrop-filter: var(--glass-blur-strong);
  pointer-events: none;
}

/* Estado ativo do scrim (classe adicionada/removida via JS) */
.sidebar-scrim.active {
  opacity: 1;
  visibility: visible;
  pointer-events: auto; /* Permite que o scrim capture cliques para fechar a sidebar */
}


/* Estilo para a √°rea de conte√∫do principal */
.main-content {
    /* flex-grow: 1 j√° deve estar no HTML desta div */
    flex-grow: 1;

    /* Adiciona uma margem esquerda igual √† largura da sidebar colapsada no desktop */
    /* Isso garante que o conte√∫do n√£o fique por baixo da sidebar fixa */
    margin-left: var(--layout-sidebar-width-collapsed); /* Margem inicial - sidebar colapsada por padr√£o */

    /* Adiciona padding interno (ajuste conforme necess√°rio para o conte√∫do n√£o colar na navbar/sidebar) */
    padding-top: var(--space-md, 1rem); /* Padding superior dentro da √°rea de conte√∫do */
    padding-left: var(--space-md, 1rem); /* Padding lateral padr√£o */
    padding-right: var(--space-md, 1rem); /* Padding lateral padr√£o */
    padding-bottom: var(--space-md, 1rem); /* Padding inferior padr√£o */


    /* Permite rolagem interna se o conte√∫do exceder a altura */
    overflow-y: auto;
    overflow-x: hidden; /* Evita scroll horizontal no conte√∫do */

    /* A transi√ß√£o para margin-left e width (quando a sidebar colapsa/expande) deve estar aqui */
    transition: margin-left var(--animation-duration-normal) var(--ease-standard),
                padding var(--animation-duration-fast) var(--ease-standard);
    /* Anima√ß√£o de entrada do conte√∫do principal */
    animation: content-fade-in var(--animation-duration-slow) var(--ease-standard);

    /* A largura √© implicitamente 100% menos a margem esquerda no layout flexbox */
    /* width: calc(100% - var(--layout-sidebar-width-expanded)); */ /* Esta regra pode ser redundante com flex-grow: 1 e margin-left */
}

/* Ajuste da margem esquerda do main content quando a sidebar est√° expandida (no desktop) */
/* Esta regra √© aplicada quando a classe 'sidebar-expanded' est√° no body/html */
body.sidebar-expanded .main-content {
   margin-left: var(--layout-sidebar-width-expanded); /* Mant√©m a margem igual √† largura expandida */
   /* width: calc(100% - var(--layout-sidebar-width-expanded)); */ /* Ajusta largura se necess√°rio */
}
/* Ajuste da margem esquerda do main content quando a sidebar est√° colapsada (no desktop) */
/* Esta regra √© aplicada quando a classe 'sidebar-collapsed' est√° no body/html */
body.sidebar-collapsed .main-content {
   margin-left: var(--layout-sidebar-width-collapsed); /* A margem esquerda √© menor */
   /* width: calc(100% - var(--layout-sidebar-width-collapsed)); */ /* Ajusta largura se necess√°rio */
}


/* Footer - Define a posi√ß√£o no layout */
/* O footer est√° fora do main-content-area-wrapper, dentro do app-container flex column */
.footer {
  /* margin-top: auto; */ /* Esta propriedade j√° deve estar no HTML para empurrar o footer para baixo no layout flex column */
  flex-shrink: 0; /* Impede que o footer encolha */
  width: 100%; /* Ocupa a largura total */
  /* Estilos visuais (background, cor, padding) devem estar em footer.css */
  /* Exemplo (movido para footer.css):
  background: var(--footer-bg);
  color: var(--footer-text);
  padding: var(--space-md) var(--space-lg);
  */
}


/* ==========================================================================\
   Responsividade
   ========================================================================== */

/* Ajustes para telas m√©dias e menores (sidebar colaps√°vel/m√≥vel) */
@media (max-width: var(--breakpoint-md)) { /* Use a vari√°vel de breakpoint m√©dio */

    /* Navbar - Estilos espec√≠ficos para mobile est√£o em navbar.css */


    /* Sidebar - Comportamento m√≥vel em telas menores */
    .sidebar {
        position: fixed; /* Essencial para mobile: flutua acima do conte√∫do */
        top: var(--layout-navbar-height); /* Come√ßa APENAS abaixo da navbar fixa em mobile */
        bottom: 0; /* Ocupa a altura restante */
        left: 0; /* Posi√ß√£o inicial escondida */
        width: var(--layout-sidebar-width-expanded); /* Largura padr√£o quando expandida em mobile */
        transform: translateX(-100%); /* Esconde a sidebar por padr√£o (fora da tela) */
        transition: transform var(--theme-transition-duration, 0.3s) var(--ease-standard, ease); /* Transi√ß√£o apenas para o slide-in/out */
        box-shadow: none; /* Remover sombra quando escondida */
        /* z-index: var(--z-index-sidebar); */ /* J√° definido acima */
    }

    /* Estado expandido da sidebar em mobile (classe adicionada/removida via JS) */
    body.sidebar-expanded .sidebar {
        transform: translateX(0); /* Mostra a sidebar (slide-in) */
        box-shadow: var(--shadow-lg, 0 0.5rem 1rem rgba(0, 0, 0, 0.15)); /* Adicionar sombra quando expandida */
        /* Opcional: Limitar a largura m√°xima em viewports muito estreitas */
        width: min(var(--layout-sidebar-width-expanded), 85vw); /* Exemplo: 85% da largura da viewport ou a largura expandida */
    }
    /* O estado colapsado em mobile √© o estado escondido padr√£o (transform: translateX(-100%)) */


    /* Main content area - Ajustes para mobile */
    .main-content {
        margin-left: 0; /* Em mobile, o conte√∫do principal N√ÉO tem margem esquerda para a sidebar */
        width: 100%; /* Ocupa toda a largura dispon√≠vel */
        /* Ajustar padding superior para levar em conta a navbar fixa em mobile */
        padding-top: var(--space-md, 1rem); /* Padding superior (ajuste conforme necess√°rio para o conte√∫do n√£o colar na navbar) */
        /* Padding lateral pode ser ajustado em media queries menores */
        transition: none; /* Remover transi√ß√µes de margin-left e width em mobile */
    }

    /* O conte√∫do principal em mobile n√£o se move quando a sidebar √© expandida/colapsada */
     body.sidebar-expanded .main-content,
     body.sidebar-collapsed .main-content {
          margin-left: 0;
          width: 100%;
     }

    /* Ajustes de espa√ßamento para o footer em telas menores */
    .footer {
        /* Pode ajustar padding ou remover margin-top: auto se o layout do footer mudar */
    }

    /* Exemplo de ajuste para o container principal em telas muito pequenas (se necess√°rio) */
    /* .main-content .container-fluid { padding-left: var(--space-sm); padding-right: var(--space-sm); } */

}

/* Ajustes para telas muito pequenas (mobile pequeno) */
@media (max-width: var(--breakpoint-sm)) {
   /* Estilos da navbar para telas pequenas est√£o em navbar.css */

   .main-content {
       padding: var(--space-xs) var(--space-xs);
       padding-top: calc(var(--layout-navbar-height) + var(--space-xs));
   }
   
   .sidebar-scrim {
       backdrop-filter: blur(4px);
   }
}

/* Ajustes para tablets */
@media (min-width: var(--breakpoint-sm)) and (max-width: var(--breakpoint-lg)) {
   .main-content {
       padding: var(--space-sm) var(--space-md);
   }
   
   .sidebar-scrim {
       backdrop-filter: blur(6px);
   }
}

/* Ajustes para desktop grande */
@media (min-width: var(--breakpoint-lg)) {
   .main-content {
       padding: var(--space-md) var(--space-lg);
       transition: margin-left var(--animation-duration-normal) var(--ease-standard),
                   padding var(--animation-duration-fast) var(--ease-standard),
                   transform var(--animation-duration-fast) var(--ease-standard);
   }
   
   .sidebar {
       box-shadow: var(--shadow-lg);
   }
   
   /* Estilos da navbar para desktop grande est√£o em navbar.css */
}

/* ==========================================================================\
   Anima√ß√µes de Layout
   ========================================================================== */

/* Anima√ß√£o de entrada da sidebar */
@keyframes sidebar-slide-in {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Anima√ß√£o de entrada do conte√∫do principal */
@keyframes content-fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Anima√ß√£o da navbar est√° em navbar.css */

/* ==========================================================================\
   Acessibilidade e Prefer√™ncias do Usu√°rio
   ========================================================================== */

/* Estilos para usu√°rios com prefer√™ncia por movimento reduzido */
@media (prefers-reduced-motion: reduce) {
  .sidebar,
  .main-content,
  .sidebar-scrim {
    transition: none !important; /* Desabilita transi√ß√µes para quem n√£o gosta de anima√ß√µes */
  }
  /* Transi√ß√µes da navbar desabilitadas em navbar.css */
  /* Desabilita keyframe animations espec√≠ficas se houverem */
  .refresh-button.refreshing i {
      animation: none !important;
  }
}

/* Estilos para foco vis√≠vel para navega√ß√£o por teclado (se n√£o estiver em accessibility.css) */
/*
:focus-visible {
  outline: var(--focus-visible-outline);
  outline-offset: var(--focus-visible-outline-offset);
}
*/