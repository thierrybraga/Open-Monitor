# Configuração do Open-Monitor
# Copie este arquivo para .env e ajuste os valores conforme necessário

# =============================================================================
# CONFIGURAÇÕES BÁSICAS
# =============================================================================

# Número máximo de workers paralelos (padrão: 4)
# Ajuste baseado no número de CPUs disponíveis
MAX_WORKERS=4

# Tamanho do lote para processamento (padrão: 100)
BATCH_SIZE=100

# Timeout para requisições em segundos (padrão: 30)
REQUEST_TIMEOUT=30

# =============================================================================
# CONFIGURAÇÕES DO BANCO DE DADOS
# =============================================================================

# URL de conexão com o banco de dados
# Exemplos:
# PostgreSQL: postgresql://user:password@localhost:5432/vulnerabilities
# SQLite: sqlite:///./vulnerabilities.db
# MySQL: mysql://user:password@localhost:3306/vulnerabilities
DATABASE_URL=sqlite:///./vulnerabilities.db

# Pool de conexões do banco
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# =============================================================================
# CONFIGURAÇÕES DE CACHE
# =============================================================================

# Habilitar cache (true/false)
CACHE_ENABLED=true

# Tipo de cache (memory, redis, file)
CACHE_TYPE=memory

# URL do Redis (se usando cache Redis)
# CACHE_REDIS_URL=redis://localhost:6379/0

# TTL padrão do cache em segundos (padrão: 3600 = 1 hora)
CACHE_TTL=3600

# Tamanho máximo do cache em memória (MB)
CACHE_MAX_SIZE=256

# =============================================================================
# CONFIGURAÇÕES DA API NVD
# =============================================================================

# Chave da API do NVD (opcional, mas recomendada para rate limits maiores)
# Obtenha em: https://nvd.nist.gov/developers/request-an-api-key
# NVD_API_KEY=sua_chave_aqui

# URL base da API NVD
NVD_API_BASE_URL=https://services.nvd.nist.gov/rest/json/cves/2.0

# Rate limit (requisições por segundo)
# Sem API key: 5 req/30s
# Com API key: 50 req/30s
NVD_RATE_LIMIT=5

# Delay entre requisições (milissegundos)
NVD_REQUEST_DELAY=6000

# =============================================================================
# CONFIGURAÇÕES DE RETRY
# =============================================================================

# Número máximo de tentativas
RETRY_MAX_ATTEMPTS=3

# Delay base entre tentativas (segundos)
RETRY_BASE_DELAY=2.0

# Delay máximo entre tentativas (segundos)
RETRY_MAX_DELAY=30.0

# Multiplicador do backoff exponencial
RETRY_BACKOFF_MULTIPLIER=2.0

# =============================================================================
# CONFIGURAÇÕES DE LOGGING
# =============================================================================

# Nível de log (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Formato do log (simple, detailed, json)
LOG_FORMAT=detailed

# Habilitar logs coloridos no terminal
LOG_COLORED=true

# Arquivo de log (deixe vazio para não salvar em arquivo)
LOG_FILE=logs/openmonitor.log

# Rotação de logs
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# =============================================================================
# CONFIGURAÇÕES DE MONITORAMENTO
# =============================================================================

# Habilitar monitoramento de performance
MONITORING_ENABLED=true

# Intervalo de coleta de métricas (segundos)
MONITORING_INTERVAL=60

# Habilitar métricas detalhadas
MONITORING_DETAILED=true

# =============================================================================
# CONFIGURAÇÕES DE SINCRONIZAÇÃO
# =============================================================================

# Habilitar sincronização automática
AUTO_SYNC_ENABLED=true

# Intervalo de sincronização incremental (minutos)
SYNC_INTERVAL=60

# Horário da sincronização completa diária (formato HH:MM)
SYNC_FULL_TIME=02:00

# Fuso horário para agendamentos
SYNC_TIMEZONE=UTC

# =============================================================================
# CONFIGURAÇÕES DE FALLBACK
# =============================================================================

# Habilitar fallback automático
FALLBACK_ENABLED=true

# Timeout para fallback (segundos)
FALLBACK_TIMEOUT=300

# Número máximo de tentativas de fallback
FALLBACK_MAX_ATTEMPTS=2

# =============================================================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO
# =============================================================================

# Modo de desenvolvimento (habilita logs extras e debugging)
DEVELOPMENT_MODE=false

# Habilitar modo debug
DEBUG=false

# Habilitar profiling de performance
PROFILING_ENABLED=false

# =============================================================================
# CONFIGURAÇÕES DE SEGURANÇA
# =============================================================================

# Chave secreta para operações criptográficas
# Gere uma chave forte: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=sua_chave_secreta_muito_forte_aqui

# Habilitar verificação SSL
SSL_VERIFY=true

# Timeout para verificações de saúde (segundos)
HEALTH_CHECK_TIMEOUT=30

# =============================================================================
# CONFIGURAÇÕES AVANÇADAS
# =============================================================================

# Tamanho máximo da memória para processamento (MB)
MAX_MEMORY_USAGE=1024

# Habilitar compressão de dados
COMPRESSION_ENABLED=true

# Nível de compressão (1-9)
COMPRESSION_LEVEL=6

# Habilitar otimizações automáticas
AUTO_OPTIMIZATION=true

# =============================================================================
# EXPORTAÇÃO DE PDF
# =============================================================================

# Engine preferida para geração de PDF
# Opções: weasyprint | reportlab | pdfkit
# 'reportlab' é recomendado por não depender de binários externos
PDF_ENGINE=reportlab

# =============================================================================
# CONFIGURAÇÕES DE OPENAI (CHAT E RELATÓRIOS)
# =============================================================================

# Chave da API OpenAI (necessária para respostas completas no chat)
# Obtenha em: https://platform.openai.com/
# Exemplo: sk-xxxx
OPENAI_API_KEY=

# Modelo padrão (ajuste conforme sua disponibilidade de conta)
# Exemplos: gpt-5, gpt-4o-mini
OPENAI_MODEL=gpt-5-nano

# Limites e parâmetros de geração
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7
OPENAI_TIMEOUT=30
OPENAI_MAX_RETRIES=2
OPENAI_RETRY_BACKOFF=1.5

# Streaming de respostas (1 para habilitar, 0 para desabilitar)
OPENAI_STREAMING=0

# Caminho do executável wkhtmltopdf (obrigatório se usar PDF_ENGINE=pdfkit)
# Exemplo Windows: "C:\\Program Files\\wkhtmltopdf\\bin\\wkhtmltopdf.exe"
# Exemplo Linux: "/usr/bin/wkhtmltopdf"
# WKHTMLTOPDF_PATH=

# Base URL usada para resolver assets (CSS/JS/imagens) ao renderizar HTML
# Ajuste se o servidor não estiver no localhost:8000
BASE_URL=http://localhost:8000

# =============================================================================
# CONFIGURAÇÕES LEGADAS (MANTIDAS PARA COMPATIBILIDADE)
# =============================================================================

# Configurações OpenAI
# OPENAI_API_KEY=your_openai_api_key_here
# OPENAI_MODEL=gpt-3.5-turbo
# OPENAI_MAX_TOKENS=1000
# OPENAI_TEMPERATURE=0.7

# Configurações de Email SMTP
# Para Gmail:
# MAIL_SERVER=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USERNAME=your_email@gmail.com
# MAIL_PASSWORD=your_app_password
# MAIL_USE_TLS=true
# MAIL_USE_SSL=false
# MAIL_DEFAULT_SENDER=your_email@gmail.com

# Para Outlook/Hotmail:
# MAIL_SERVER=smtp-mail.outlook.com
# MAIL_PORT=587
# MAIL_USERNAME=your_email@outlook.com
# MAIL_PASSWORD=your_password
# MAIL_USE_TLS=true
# MAIL_USE_SSL=false
# MAIL_DEFAULT_SENDER=your_email@outlook.com

# Para desenvolvimento local (MailHog ou similar):
# MAIL_SERVER=localhost
# MAIL_PORT=1025
# MAIL_USERNAME=
# MAIL_PASSWORD=
# MAIL_USE_TLS=false
# MAIL_USE_SSL=false
# MAIL_DEFAULT_SENDER=noreply@localhost

# Para serviços como SendGrid:
# MAIL_SERVER=smtp.sendgrid.net
# MAIL_PORT=587
# MAIL_USERNAME=apikey
# MAIL_PASSWORD=your_sendgrid_api_key
# MAIL_USE_TLS=true
# MAIL_USE_SSL=false
# MAIL_DEFAULT_SENDER=noreply@yourdomain.com

# =============================================================================
# CONFIGURAÇÕES DE NOTIFICAÇÃO (OPCIONAL)
# =============================================================================

# Habilitar notificações
# NOTIFICATIONS_ENABLED=false

# Email para notificações
# NOTIFICATION_EMAIL=admin@exemplo.com

# Webhook para notificações
# NOTIFICATION_WEBHOOK=https://hooks.slack.com/services/...

# =============================================================================
# CONFIGURAÇÕES DE BACKUP (OPCIONAL)
# =============================================================================

# Habilitar backup automático
# BACKUP_ENABLED=false

# Diretório de backup
# BACKUP_DIR=./backups

# Intervalo de backup (horas)
# BACKUP_INTERVAL=24

# Número máximo de backups a manter
# BACKUP_RETENTION=7